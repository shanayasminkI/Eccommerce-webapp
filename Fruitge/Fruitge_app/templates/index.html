<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FuritNVege</title>
  {% load static %}
    <link rel="icon" href="{% static 'Logo/logo1.png' %}">
  <link rel="stylesheet" href="FruitNveg_Store/fnvs_app/static/css/index.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  {% load static %}
  <link rel="stylesheet" href="{%static 'css/index.css'%}">
</head>
<header>
    <div class="row text-center navbar" style="background-color: rgb(33, 182, 33);">
      
      <!-- Logo -->
      <div class="col-1 nav-item">
        <img src="{% static 'Logo/logo1.png' %}" alt="logo" class="rounded" style="height:75%; width:75%;">
      </div>
  
      <!-- Pin Location -->
      <div class="col-2 nav-item">
        <a class="btn text-white" href="#" style="font-size: 20px;">
          <i class="bi bi-geo-alt"></i>
          <span style="filter: blur(1px);">Pin Your Location</span>
        </a>
      </div>
  
      <!-- Search Bar (Larger & Visible on Medium & Larger Screens) -->
      <div class="col-7 nav-item d-none d-md-flex">
        <form class="d-flex search-container w-100" method="POST">
          <input class="form-control " type="text" placeholder="Search" style="width: 40%;">
          <button class="btn rounded-3 sear-btn" type="submit">Search</button>
        </form>
      </div>
  
      <!-- Search Icon (Visible on Small Screens) -->
      <div class="col-1 nav-item d-md-none">
        <button class="btn text-white" id="toggleSearch" onclick="toggleSearchBar()">
          <i class="bi bi-search" style="font-size: 24px;"></i>
        </button>
      </div>
  
      <!-- Login & Cart -->
      <div class="col-2 nav-item row text-center">
        <div class="col-6">
          <a class="btn text-white" id="showLoginBtn" href="#" style="font-size:20px;" onclick="toggle_div()">Login</a>
        </div>
        <div class="col-6">
          <a class="btn text-white" onclick="toggle_div()" style="font-size: 20px;">
            <i class="bi bi-cart"></i>
            <span id="cart-badge" class="badge bg-danger position-absolute top-0 start-100 translate-middle"></span> <!-- Badge element -->
          </a>
        </div>
      </div>
  
    </div>
  
    <!-- Hidden Larger Search Bar for Small Screens -->
    <div id="mobileSearch" class="d-none p-2">
      <form class="d-flex w-100" method="POST">
        <input class="form-control form-control-lg" type="text" placeholder="Search">
        <button class="btn btn-success btn-lg rounded-3 ms-2" type="submit">Search</button>
      </form>
    </div>
  </header>
<body>

  <div class="container-fluid">
    <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">

      <div class="carousel-indicators">
            {% for image in images %}
            <button 
                type="button" 
                data-bs-target="#carouselExampleControls" 
                data-bs-slide-to="{{ forloop.counter0 }}" 
                class="{% if forloop.first %}active{% endif %}" 
                aria-current="{% if forloop.first %}true{% endif %}" 
                aria-label="Slide {{ forloop.counter }}">
            </button>
            {% endfor %}
          </div>

      <div class="carousel-inner">
        {% for image in images %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <img src="{{ image.image.url }}"  class="d-block w-100" alt="..." style="height: 350px;">   
        </div>
        {% endfor %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
      
        
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
       
      </button>
    </div>
  </div>
  
  <div id="overlay" onclick="toggle_div()"></div>
 
   <!-- Fruits Section -->
   <div class="container-fluid mt-4" style="background-color: #cec891;">
    <div id="items-section">
        <!-- Fruits Header -->
        <div class="container mb-3 " id="fruits-items">
            <h3 class="mt-4 mb-3"><strong>Fruits</strong></h3>
  
            <!-- Fruits Grid -->
            <div class="card-container row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-4">
                {% for item in items %}
                {% if not item.is_expired %}
                    {% if item.type == 'fruits' %}
                        <!-- Product Card -->
                        <div class="col">
                                <!-- Card Container -->
                                <div class="card {% if item.is_expired %}card-expired{% endif %} h-100 border-1 shadow-sm rounded-4 position-relative" id="card-furit">
  
                                    {% if item.offfer %}
                                    <span class="badge bg-danger position-absolute top-0 start-0 text-white"
                                          style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                        {{ item.offfer }}% Off
                                        </span>
                                    {% elif item.quantity == 0 %}
                                        <span class="badge bg-dark position-absolute top-0 start-0 text-white"
                                              style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                            Out of Stock
                                        </span>
                                    {% endif %}
  
                                    <!-- Product Image Carousel -->
                                    <div id="carousel{{ item.id }}" class="imgContainer carousel slide" data-bs-ride="carousel">
                                        <div class="carousel-inner">
                                            {% for image in item.images.all %}
                                                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                                    <img src="{{ image.image.url }}" class="d-block w-100 mt-2 rounded"
                                                         alt="{{ item.name }}" style="height: 120px; object-fit: cover;">
                                                </div>
                                            {% endfor %}
                                        </div>
                                        <!-- Carousel Controls -->
                                        <button class="carousel-control-prev" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="prev">
                                        </button>
                                        <button class="carousel-control-next" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="next">
                                        </button>
                                    </div>
  
                                    <!-- Card Body -->
                                    <div class="card-body text-center p-2">
                                        <!-- Product Name -->
                                        <p class="card-title fw-bold text-muted mb-1" style="font-size: 20px;">{{ item.name }}</p>
                                    </div>
  
                                    <!-- Price and Actions Section -->
                                    <div class="card-footer  border-0 d-flex justify-content-between align-items-center p-3" style="background: transparent;">
                                        <!-- Price Section -->
                                        <div>
                                            {% if item.offer_price %}
                                                <!-- Offer Price -->
                                                <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                    ₹{{ item.offer_price }}
                                                </p>
                                                <!-- Original Price -->
                                                <p class="text-muted text-decoration-line-through mb-0" style="font-size: 1.4rem;">
                                                    ₹{{ item.price_kg }}
                                                </p>
                                            {% else %}
                                                <!-- Only Original Price -->
                                                <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                    ₹{{ item.price_kg }}
                                                </p>
                                            {% endif %}
                                        </div>
  
                                        <!-- Wishlist and Add-to-Cart Section -->
                                        <div class="d-flex gap-2 align-items-center">
                                            <!-- Wishlist Icon -->
                                            <a class="btn btn-link p-0 me-2" onclick="toggle_div()">
                                              <i class="bi bi-heart" style="font-size: 20px; color: #000;"></i>
                                            </a>
                                            <!-- Add to Cart Button -->
                                            <a onclick="toggle_div()" 
                                            class="btn btn-success text-white rounded-pill px-4" 
                                            style="font-size: 0.9rem;">ADD</a>
                                        </div>
                                    </div>
                                </div>
                        </div>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
  </div>
  
   
  
  <!-- Vegetables Row -->
  <div class="container-fluid mt-5" style="background-color: #b6dfa7;">
    <div class="container mb-3" id="vegetables-items">
        <!-- Section Header -->
        <h3 class="mt-4 mb-3"><strong>Vegetables</strong></h3>
  
        <!-- Vegetables Grid -->
        <div class="card-container row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-4">
            {% for item in items %}
            {% if not item.is_expired %}
                {% if item.type == 'vegetables' %}
                    <!-- Product Card -->
                    <div class="col">
                            <div class="card {% if item.is_expired %}card-expired{% endif %} h-100 border-1 shadow-sm rounded-4 position-relative" id="card-veg">
                                
                                {% if item.offfer %}
                            <span class="badge bg-danger position-absolute top-0 start-0 text-white"
                                  style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                {{ item.offfer }}% Off
                                    </span>
                                {% elif item.quantity == 0 %}
                                    <span class="badge bg-dark position-absolute top-0 start-0 text-white"
                                          style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                        Out of Stock
                                    </span>
                                {% endif %}
                               
                                <!-- Product Image Carousel -->
                                <div id="carousel{{ item.id }}" class="imgContainer carousel slide" data-bs-ride="carousel">
                                    <div class="carousel-inner">
                                        {% for image in item.images.all %}
                                            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                                <img src="{{ image.image.url }}" class="d-block w-100 mt-2 rounded"
                                                     alt="{{ item.name }}" style="height: 120px; object-fit: cover;">
                                            </div>
                                        {% endfor %}
                                    </div>
                                    
                                    <!-- Carousel Controls -->
                                    <button class="carousel-control-prev" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="prev">
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="next">
                                    </button>
                                </div>
  
                                <!-- Card Body -->
                                <div class="card-body text-center p-2">
                                    <!-- Product Name -->
                                    <p class="card-title fw-bold text-muted mb-1" >{{ item.name }}</p>
                                </div>
  
                                <!-- Price and Actions Section -->
                                <div class="card-footer  border-0 d-flex justify-content-between align-items-center p-3">
                                    <!-- Price Section -->
                                    <div>
                                        {% if item.offer_price %}
                                            <!-- Display Offer Price and Original Price -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.offer_price }}
                                            </p>
                                            <p class="text-muted text-decoration-line-through mb-0" style="font-size: 1.4rem;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% else %}
                                            <!-- Display Only Original Price -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% endif %}
                                    </div>
  
                                    <!-- Wishlist Icon and Add-to-Cart Button -->
                                    <div class="d-flex gap-2 align-items-center">
                                        <!-- Wishlist Icon -->
                                        <a class="btn btn-link p-0 me-2" onclick="toggle_div()">
                                          <i class="bi bi-heart" style="font-size: 20px; color: #000;"></i>
                                        </a>
                                        <!-- Add to Cart Button -->
                                        <a onclick="toggle_div()" 
                                        class="btn btn-success text-white rounded-pill px-4" 
                                        style="font-size: 0.9rem;">ADD</a>
                                    </div>
                                </div>
                            </div>
                    </div>
                    {% endif %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
  </div>
  
  <!-- Exotic Fruits Section -->
  <div class="container-fluid mt-5" style="background-color: #d4cda2;">
    <div class="container mb-3" id="exotic-fruits-items">
        <!-- Section Header -->
        <h3 class="mt-4 mb-3"><strong>Exotic Fruits</strong></h3>
  
        <!-- Exotic Fruits Grid -->
        <div class="card-container row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-4">
            {% for item in items %}
            {% if not item.is_expired %}
                {% if item.type == 'exotic fruits' %}
                    <!-- Product Card -->
                    <div class="col">
                            <div class="card {% if item.is_expired %}card-expired{% endif %} h-100 border-1 shadow-sm rounded-4 position-relative" id="card-ex-furit">
                                
                                {% if item.offfer %}
                            <span class="badge bg-danger position-absolute top-0 start-0 text-white"
                                  style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                {{ item.offfer }}% Off
                                    </span>
                                {% elif item.quantity == 0 %}
                                    <span class="badge bg-dark position-absolute top-0 start-0 text-white"
                                          style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                        Out of Stock
                                    </span>
                                {% endif %}
                              
  
                                <!-- Product Image Carousel -->
                                <div id="carousel{{ item.id }}" class="imgContainer carousel slide" data-bs-ride="carousel">
                                    <div class="carousel-inner">
                                        {% for image in item.images.all %}
                                            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                                <img src="{{ image.image.url }}" class="d-block w-100 mt-2 rounded"
                                                     alt="{{ item.name }}" style="height: 120px; object-fit: cover;">
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <!-- Carousel Controls -->
                                    <button class="carousel-control-prev" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="prev">
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="next">
                                    </button>
                                </div>
  
                                <!-- Card Body -->
                                <div class="card-body text-center p-2">
                                    <!-- Product Name -->
                                    <p class="card-title fw-bold text-muted mb-1" >{{ item.name }}</p>
                                </div>
  
                                <!-- Price and Actions Section -->
                                <div class="card-footer border-0 d-flex justify-content-between align-items-center p-3">
                                    <!-- Price Section -->
                                    <div>
                                        {% if item.offer_price %}
                                            <!-- Offer Price with Original Price -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.offer_price }}
                                            </p>
                                            <p class="text-muted text-decoration-line-through mb-0" style="font-size: 1.4rem;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% else %}
                                            <!-- Original Price Only -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% endif %}
                                    </div>
  
                                    <!-- Wishlist Icon and Add-to-Cart Button -->
                                    <div class="d-flex gap-2 align-items-center">
                                        <!-- Wishlist Icon -->
                                        <a class="btn btn-link p-0 me-2" onclick="toggle_div()">
                                          <i class="bi bi-heart" style="font-size: 20px; color: #000;"></i>
                                        </a>
                                        <!-- Add Button -->
                                        <a onclick="toggle_div()" 
                                        class="btn btn-success text-white rounded-pill px-4" 
                                        style="font-size: 0.9rem;">ADD</a>
                                    </div>
                                </div>
                            </div>
                    </div>
                    {% endif %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
  </div>
  
  <!-- Exotic Vegetables Section -->
  <div class="container-fluid mt-5" style="background-color: #bce0ae;">
    <div class="container mb-3" id="exotic-vegetables-items">
        <!-- Section Header -->
        <h3 class="mt-4 mb-3"><strong>Exotic Vegetables</strong></h3>
  
        <!-- Exotic Vegetables Grid -->
        <div class="card-container row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-4">
            {% for item in items %}
            {% if not item.is_expired %}
                {% if item.type == 'exotic vegetables' %}
                    <!-- Product Card -->
                    <div class="col">
                            <div class="card {% if item.is_expired %}card-expired{% endif %} h-100 border-1 shadow-sm rounded-4 position-relative" id="card-ex-veg">
                                
                                {% if item.offfer %}
                                <span class="badge bg-danger position-absolute top-0 start-0 text-white"
                                      style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                    {{ item.offfer }}% Off
                                    </span>
                                {% elif item.quantity == 0 %}
                                    <span class="badge bg-dark position-absolute top-0 start-0 text-white"
                                          style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                        Out of Stock
                                    </span>
                                {% endif %}
                               
  
                                <!-- Product Image Carousel -->
                                <div id="carousel{{ item.id }}" class="imgContainer carousel slide" data-bs-ride="carousel">
                                    <div class="carousel-inner">
                                        {% for image in item.images.all %}
                                            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                                <img src="{{ image.image.url }}" class="d-block w-100 mt-2 rounded"
                                                     alt="{{ item.name }}" style="height: 120px; object-fit: cover;">
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <!-- Carousel Controls -->
                                    <button class="carousel-control-prev" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="prev">
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="next">
                                    </button>
                                </div>
  
                                <!-- Card Body -->
                                <div class="card-body text-center p-2">
                                    <!-- Product Name -->
                                    <p class="card-title fw-bold text-muted mb-1">{{ item.name }}</p>
                                </div>
  
                                <!-- Price and Actions Section -->
                                <div class="card-footer border-0 d-flex justify-content-between align-items-center p-3">
                                    <!-- Price Section -->
                                    <div>
                                        {% if item.offer_price %}
                                            <!-- Offer Price with Original Price -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.offer_price }}
                                            </p>
                                            <p class="text-muted text-decoration-line-through mb-0" style="font-size: 1.4rem;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% else %}
                                            <!-- Original Price Only -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% endif %}
                                    </div>
  
                                    <!-- Wishlist Icon and Add-to-Cart Button -->
                                    <div class="d-flex gap-2 align-items-center">
                                        <!-- Wishlist Icon -->
                                        <a class="btn btn-link p-0 me-2" onclick="toggle_div()">
                                          <i class="bi bi-heart" style="font-size: 20px; color: #000;"></i>
                                        </a>
                                        <!-- Add Button -->
                                        <a onclick="toggle_div()" 
                                        class="btn btn-success text-white rounded-pill px-4" 
                                        style="font-size: 0.9rem;">ADD</a>
                                    </div>
                                </div>
                            </div>
                    </div>
                    {% endif %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
  </div>
  
  <!-- Mushrooms Section -->
  <div class="container-fluid mt-5" style="background-color: #b5d7b7;">
    <div class="container mb-3" id="mushrooms-items">
        <!-- Section Header -->
        <h3 class="mt-4 mb-3"><strong>Mushrooms</strong></h3>
  
        <!-- Mushrooms Grid -->
        <div class="card-container row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-4">
            {% for item in items %}
            {% if not item.is_expired %}
                {% if item.type == 'mashrooms' %}
                    <!-- Product Card -->
                    <div class="col">
                            <div class="card {% if item.is_expired %}card-expired{% endif %} h-100 border-1 shadow-sm rounded-4 position-relative"id="card-mushroom">
                                
                                {% if item.offfer %}
                            <span class="badge bg-danger position-absolute top-0 start-0 text-white"
                                  style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                {{ item.offfer }}% Off
                                    </span>
                                {% elif item.quantity == 0 %}
                                    <span class="badge bg-dark position-absolute top-0 start-0 text-white"
                                          style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                        Out of Stock
                                    </span>
                                {% endif %}
  
                                <!-- Product Image Carousel -->
                                <div id="carousel{{ item.id }}" class="imgContainer carousel slide" data-bs-ride="carousel">
                                    <div class="carousel-inner">
                                        {% for image in item.images.all %}
                                            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                                <img src="{{ image.image.url }}" class="d-block w-100 mt-2 rounded"
                                                     alt="{{ item.name }}" style="height: 120px; object-fit: cover;">
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <!-- Carousel Controls -->
                                    <button class="carousel-control-prev" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="prev">
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="next">
                                    </button>
                                </div>
  
                                <!-- Card Body -->
                                <div class="card-body text-center p-2">
                                    <!-- Product Name -->
                                    <p class="card-title fw-bold text-muted mb-1">{{ item.name }}</p>
                                </div>
  
                                <!-- Price and Actions Section -->
                                <div class="card-footer border-0 d-flex justify-content-between align-items-center p-3">
                                    <!-- Price Section -->
                                    <div>
                                        {% if item.offer_price %}
                                            <!-- Offer Price with Original Price -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.offer_price }}
                                            </p>
                                            <p class="text-muted text-decoration-line-through mb-0" style="font-size: 1.4rem;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% else %}
                                            <!-- Original Price Only -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% endif %}
                                    </div>
  
                                    <!-- Wishlist Icon and Add-to-Cart Button -->
                                    <div class="d-flex gap-2 align-items-center">
                                        <!-- Wishlist Icon -->
                                        <a class="btn btn-link p-0 me-2" onclick="toggle_div()">
                                          <i class="bi bi-heart" style="font-size: 20px; color: #000;"></i>
                                        </a>
                                        <!-- Add Button -->
                                        <a onclick="toggle_div()" 
                                        class="btn btn-success text-white rounded-pill px-4" 
                                        style="font-size: 0.9rem;">ADD</a>
                                    </div>
                                </div>
                            </div>
                    </div>
                {% endif %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
  </div>
  
  <!-- Salad Items Section -->
  <div class="container-fluid mt-5" style="background-color: #d1edc6;">
    <div class="container mb-3" id="salad-items">
        <!-- Section Header -->
        <h3 class="mt-4 mb-3"><strong>Salad Items</strong></h3>
  
        <!-- Salad Items Grid -->
        <div class="card-container row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-4">
            {% for item in items %}
            {% if not item.is_expired %}
                {% if item.type == 'salad items' %}
                    <!-- Product Card -->
                    <div class="col">
                            <div class="card {% if item.is_expired %}card-expired{% endif %} h-100 border-1 shadow-sm rounded-4 position-relative" id="card-salad">
                                
                                {% if item.offfer %}
                                <span class="badge bg-danger position-absolute top-0 start-0 text-white"
                                      style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                    {{ item.offfer }}% Off
                                    </span>
                                {% elif item.quantity == 0 %}
                                    <span class="badge bg-dark position-absolute top-0 start-0 text-white"
                                          style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                        Out of Stock
                                    </span>
                                {% endif %}
                                <!-- Product Image Carousel -->
                                <div id="carousel{{ item.id }}" class="imgContainer carousel slide" data-bs-ride="carousel">
                                    <div class="carousel-inner">
                                        {% for image in item.images.all %}
                                            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                                <img src="{{ image.image.url }}" class="d-block w-100 mt-2 rounded"
                                                     alt="{{ item.name }}" style="height: 120px; object-fit: cover;">
                                            </div>
                                        {% endfor %}
                                    </div>
                                    <!-- Carousel Controls -->
                                    <button class="carousel-control-prev" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="prev">
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="next">
                                    </button>
                                </div>
  
                                <!-- Card Body -->
                                <div class="card-body text-center p-2">
                                    <!-- Product Name -->
                                    <p class="card-title fw-bold text-muted mb-1">{{ item.name }}</p>
                                </div>
  
                                <!-- Price and Actions Section -->
                                <div class="card-footer border-0 d-flex justify-content-between align-items-center p-3">
                                    <!-- Price Section -->
                                    <div>
                                        {% if item.offer_price %}
                                            <!-- Offer Price with Original Price -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.offer_price }}
                                            </p>
                                            <p class="text-muted text-decoration-line-through mb-0" style="font-size: 1.4rem;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% else %}
                                            <!-- Original Price Only -->
                                            <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                                ₹{{ item.price_kg }}
                                            </p>
                                        {% endif %}
                                    </div>
  
                                    <!-- Wishlist Icon and Add-to-Cart Button -->
                                    <div class="d-flex gap-2 align-items-center">
                                        <!-- Wishlist Icon -->
                                        <a class="btn btn-link p-0 me-2" onclick="toggle_div()">
                                          <i class="bi bi-heart" style="font-size: 20px; color: #000;"></i>
                                        </a>
                                        <!-- Add Button -->
                                        <a onclick="toggle_div()" 
                                        class="btn btn-success text-white rounded-pill px-4" 
                                        style="font-size: 0.9rem;">ADD</a>
                                    </div>
                                </div>
                            </div>
                    </div>
                    {% endif%}
                {% endif %}
            {% endfor %}
        </div>
    </div>
  </div>
  
  <!-- General Products Section -->
  <div class="container-fluid mt-5" style="background-color: #b7d1b0;">
    <div class="container mb-3">
        <!-- Section Header -->
        <h3 class="mt-4 mb-3"><strong>Products</strong></h3>
  
        <!-- Products Grid -->
        <div class="card-container row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-4">
            {% for item in items %}
            {% if not item.is_expired %}
                <div class="col">
                    <!-- Product Card -->
                    <div class="card {% if item.is_expired %}card-expired{% endif %} h-100 border-1 shadow-sm rounded-4 position-relative">
                        
                        {% if item.offfer %}
                            <span class="badge bg-danger position-absolute top-0 start-0 text-white"
                                  style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                {{ item.offfer }}% Off
                            </span>
                        {% elif item.quantity == 0 %}
                            <span class="badge bg-dark position-absolute top-0 start-0 text-white"
                                  style="margin: 10px; padding: 5px 10px; font-size: 0.8rem; z-index: 10;">
                                Out of Stock
                            </span>
                        {% endif %}
  

  
                        <!-- Product Image Carousel -->
                        <div id="carousel{{ item.id }}" class="imgContainer carousel slide" data-bs-ride="carousel">
                            <div class="carousel-inner">
                                {% for image in item.images.all %}
                                    <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                        <img src="{{ image.image.url }}" class="d-block w-100 mt-2 rounded"
                                             alt="{{ item.name }}" style="height: 120px; object-fit: cover;">
                                    </div>
                                {% endfor %}
                            </div>
                            <!-- Carousel Controls -->
                            <button class="carousel-control-prev" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="prev">
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carousel{{ item.id }}" data-bs-slide="next">
                            </button>
                        </div>
  
                        <!-- Card Body -->
                        <div class="card-body text-center p-2">
                            <!-- Product Name -->
                            <p class="card-title fw-bold text-muted mb-1">{{ item.name }}</p>
                        </div>
  
                        <!-- Price and Actions Section -->
                        <div class="card-footer border-0 d-flex justify-content-between align-items-center p-3">
                            <!-- Price Section -->
                            <div>
                                {% if item.offer_price %}
                                    <!-- Offer Price with Original Price -->
                                    <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                        ₹{{ item.offer_price }}
                                    </p>
                                    <p class="text-muted text-decoration-line-through mb-0" style="font-size: 1.4rem;">
                                        ₹{{ item.price_kg }}
                                    </p>
                                {% else %}
                                    <!-- Original Price Only -->
                                    <p class="mb-0" style="font-size: 1.5rem; font-weight: bold; color: #000;">
                                        ₹{{ item.price_kg }}
                                    </p>
                                {% endif %}
                            </div>
  
                            <!-- Wishlist Icon and Add-to-Cart Button -->
                            <div class="d-flex gap-2 align-items-center">
                                <!-- Wishlist Icon -->
                                <a class="btn btn-link p-0 me-2" onclick="toggle_div()">
                                  <i class="bi bi-heart" style="font-size: 20px; color: #000;"></i>
                                </a>
                                <!-- Add-to-Cart Button -->
                                <a onclick="toggle_div()" 
                                 class="btn btn-success text-white rounded-pill px-4" 
                                 style="font-size: 0.9rem;">ADD</a>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
  </div>
 

  <div id="myDiv">
    <form  action="{%url 'header'%} "method="POST">
      {% csrf_token %}
        <!-- Email input -->
        <h1 class="text-center">Login</h1>
        <div data-mdb-input-init class="form-outline mb-4">
          <label class="form-label" for="form2Example1">Username</label>
          <input type="text" id="form2Example1" class="form-control"name="username" required />
         
        </div>
      
        <!-- Password input -->
        <div data-mdb-input-init class="form-outline mb-4">
          <label class="form-label" for="form2Example2">Password</label>
          <input type="password" id="form2Example2" class="form-control" name="password" required/>
         
        </div>
        <!--ac_type-->
        <div data-mdb-input-init class="form-outline mb-4">
          <label class="form-label" for="">Account Type</label>
          <select class="form-select" id="dropdown" name="dropdown_value" required>
            <option  selected></option>
            <option value="Seller">Seller</option>
            <option value="Buyer">Buyer</option>
            <option value="Delivery Agent">Delivery Agent</option>
        </select>
        </div>
      
        <!-- 2 column grid layout for inline styling -->
        <div class="row mb-4">
          <div class="col d-flex justify-content-center">
            <!-- Checkbox -->
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="form2Example31" checked />
              <label class="form-check-label" for="form2Example31"> Remember me </label>
            </div>
          </div>
      
          <div class="col">
            <!-- Simple link -->
            <a href="#!" class="text-dark">Forgot password?</a>
          </div>
        </div>
      
        <!-- Submit button -->
        <button  type="submit" data-mdb-button-init data-mdb-ripple-init class="btn btn-dark btn-block mb-4">Sign in</button>
      
        <!-- Register buttons -->
        <div class="text-center">
          <p>Not a member? <a href="{%url 'signUp' %}" class="text-dark">Register</a></p>
         
        </div>
        {% if messages %}
    <div class="alert alert-danger mt-2 ">
        {% for message in messages %}
            <p>{{ message }}</p>
        {% endfor %}
    </div>
{% endif %}
      </form>
      
  </div>
  
</body>
<!-- Footer Section -->
<footer class="text-lg-start text-white" style="background-color: #42af17" id="back">
    <div class="container p-4 pb-0">
        <div class="row">
            
            <!-- Logo and Company Name -->
            <div class="col-md-3 col-lg-3 col-xl-3 mt-3 text-center">
                <div>
                    <img src="{% static 'Logo/logo1.png' %}" alt="Company Logo" class="rounded" style="height: 35%; width: 35%;">
                </div>
                <div>
                    <h2>COMPANY NAME</h2>
                </div>
            </div>

            <!-- Company Information Links -->
            <div class="col-md-3 col-lg-3 col-xl-3 mt-3 text-center">
                <h4 class="text-uppercase mb-4 font-weight-bold">Company</h4>
                <p><a href="#" class="text-white">About Us</a></p>
                <p><a href="#" class="text-white">Careers</a></p>
                <p><a href="#" class="text-white">Team</a></p>
            </div>

            <!-- Get In Touch Section -->
            <div class="col-md-3 col-lg-3 col-xl-3 mt-3 text-center">
                <h4 class="text-uppercase mb-4 font-weight-bold">Get In Touch With Us</h4>
                <p><a href="{% url 'contactUs_form' %}" class="text-white">Help & Support</a></p>
                <p><a href="{% url 'signUp' %}" class="text-white">Be A Seller</a></p>
                <p><a href="{% url 'signUp' %}" class="text-white">Become A Delivery Agent</a></p>
                
                <p>Better Experience Download The App</p>
                
                <!-- App Store & Google Play Links -->
                <div class="d-flex justify-content-center">
                    <a href="#"><img src="{% static 'Logo/play.png' %}" alt="Google Play" class="img-fluid me-2" style="max-height: 50px; max-width: 150px;"></a>
                    <a href="#"><img src="{% static 'Logo/app.png' %}" alt="App Store" class="img-fluid" style="max-height: 50px; max-width: 150px;"></a>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="col-md-3 col-lg-3 col-xl-3 mt-3 text-center">
                <h4 class="text-uppercase mb-4 font-weight-bold">Contact Us</h4>
                <p><i class="bi bi-house"></i> VADAKKEKAD, THRISSUR, KERALA</p>
                <p><i class="bi bi-envelope"></i> FurtiNVege@gmail.com</p>
                <p><i class="bi bi-telephone"></i> +1122334455</p>
            </div>
        </div>

        <hr class="my-3">

<!-- Footer Bottom Section -->
<div class="d-flex justify-content-between align-items-center flex-wrap py-3">
    
    <!-- Copyright Info -->
    <div class="text-center flex-grow-1">
        <p class="mb-0">&copy; 2020 Copyright</p>
    </div>
    
    <!-- Social Media Links -->
    <div class="d-flex justify-content-end align-items-center">
        <a class="btn btn-outline-light btn-floating me-2"><i class="bi bi-facebook"></i></a>
        <a class="btn btn-outline-light btn-floating me-2"><i class="bi bi-twitter-x"></i></a>
        <a class="btn btn-outline-light btn-floating me-2"><i class="bi bi-google"></i></a>
        <a class="btn btn-outline-light btn-floating"><i class="bi bi-instagram"></i></a>
    </div>

</div>
</div>
</footer>
<script>
function toggle_div() {
      const div = document.getElementById("myDiv");
      const overlay = document.getElementById("overlay");
      div.classList.toggle("show");
      overlay.classList.toggle("show");
      const isVisible = div.classList.contains("show");
      localStorage.setItem("popupVisible", isVisible ? "true" : "false");
    }

    window.onload = function () {
      const popupVisible = localStorage.getItem("popupVisible") === "true";
      if (popupVisible) {
        const div = document.getElementById("myDiv");
        const overlay = document.getElementById("overlay");
        div.classList.add("show");
        overlay.classList.add("show");
      }

  function updateCartCount() {
        fetch('/get-cart-count/')
            .then(response => response.json())
            .then(data => {
                const badge = document.getElementById('cart-badge');
                if (data.total_items > 0) {
                    badge.textContent = data.total_items;
                    badge.style.display = 'block'; // Show the badge when there are items
                } else {
                    badge.style.display = 'none'; // Hide the badge when the cart is empty
                }
            })
            .catch(error => {
                console.error('Error fetching cart count:', error);
            });
    }

    // Update cart count when the page loads
    document.addEventListener('DOMContentLoaded', updateCartCount)
  }
  function toggleSearchBar() {
    let searchDiv = document.getElementById("mobileSearch");
    searchDiv.classList.toggle("d-none");
  }

</script>

</html>